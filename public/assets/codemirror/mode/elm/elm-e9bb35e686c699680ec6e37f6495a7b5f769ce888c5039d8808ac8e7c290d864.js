// CodeMirror, copyright (c) by Marijn Haverbeke and others
!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("elm",function(){function e(e,t,r){return t(r),r(e,t)}function t(){return function(t,x){if(t.eatWhile(p))return null;var h=t.next();if(m.test(h))return"{"===h&&t.eat("-")?e(t,x,r(1)):"["===h&&t.match("glsl|")?e(t,x,f):"builtin";if("'"===h)return e(t,x,o);if('"'===h)return t.eat('"')?t.eat('"')?e(t,x,n):"string":e(t,x,i);if(a.test(h))return t.eatWhile(s),"variable-2";if(u.test(h)){var k=1===t.pos;return t.eatWhile(s),k?"def":"variable"}if(l.test(h)){if("0"===h){if(t.eat(/[xX]/))return t.eatWhile(c),"number"}else t.eatWhile(l);return t.eat(".")&&t.eatWhile(l),t.eat(/[eE]/)&&(t.eat(/[-+]/),t.eatWhile(l)),"number"}return d.test(h)?"-"===h&&t.eat("-")?(t.skipToEnd(),"comment"):(t.eatWhile(d),"keyword"):"_"===h?"keyword":"error"}}function r(e){return 0==e?t():function(n,i){for(;!n.eol();){var o=n.next();if("{"==o&&n.eat("-"))++e;else if("-"==o&&n.eat("}")&&0===--e)return i(t()),"comment"}return i(r(e)),"comment"}}function n(e,r){for(;!e.eol();){if('"'===e.next()&&e.eat('"')&&e.eat('"'))return r(t()),"string"}return"string"}function i(e,r){for(;e.skipTo('\\"');)e.next(),e.next();return e.skipTo('"')?(e.next(),r(t()),"string"):(e.skipToEnd(),r(t()),"error")}function o(e,r){for(;e.skipTo("\\'");)e.next(),e.next();return e.skipTo("'")?(e.next(),r(t()),"string"):(e.skipToEnd(),r(t()),"error")}function f(e,r){for(;!e.eol();){if("|"===e.next()&&e.eat("]"))return r(t()),"string"}return"string"}var u=/[a-z]/,a=/[A-Z]/,s=/[a-zA-Z0-9_]/,l=/[0-9]/,c=/[0-9A-Fa-f]/,d=/[-&*+.\\/<>=?^|:]/,m=/[(),[\]{}]/,p=/[ \v\f]/,x={"case":1,of:1,as:1,"if":1,then:1,"else":1,"let":1,"in":1,type:1,alias:1,module:1,where:1,"import":1,exposing:1,port:1};return{startState:function(){return{f:t()}},copyState:function(e){return{f:e.f}},token:function(e,t){var r=t.f(e,function(e){t.f=e}),n=e.current();return x.hasOwnProperty(n)?"keyword":r}}}),e.defineMIME("text/x-elm","elm")});